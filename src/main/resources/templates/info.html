<#assign ctx=springMacroRequestContext.contextPath/>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="${ctx}/plugin/layui/css/layui.css"/>
    <link rel="stylesheet" href="${ctx}/styles/style.css"/>
    <link rel="stylesheet" href="${ctx}/styles/info.css"/>
</head>
<body>
<input id="basePath" type="hidden" value="${ctx}"/>
<div class="root">
    <div class="topbar">
        <div class="topbar-menu">
            <a href="javascript:toPage('root')" class="topbar-menu-item">
                <img src="${ctx}/image/menu01.png"/><span>连接</span>
            </a>
            <a href="javascript:toPage('data')" class="topbar-menu-item">
                <img src="${ctx}/image/menu02.png"/><span>数据</span>
            </a>
            <a href="javascript:toPage('info')" class="topbar-menu-item curr">
                <img src="${ctx}/image/menu03.png"/><span>信息</span>
            </a>
            <a href="javascript:toPage('conf')" class="topbar-menu-item">
                <img src="${ctx}/image/menu04.png"/><span>配置</span>
            </a>
            <a href="javascript:toPage('self')" class="topbar-menu-item">
                <img src="${ctx}/image/menu05.png"/><span>关于</span>
            </a>
        </div>
        <div class="topbar-logo"><img src="${ctx}/image/page-logo.png"/></div>
    </div>
    <div class="handle">
        <div class="handle-left">
            <div class="layui-fluid">
                <div class="layui-row">
                    <div class="layui-col-sm12">
                        <canvas id="chart01" class="chart-box" width="760" height="349"></canvas>
                    </div>
                </div>
            </div>
            <div class="layui-fluid" style="border-top: 1px silver solid">
                <div class="layui-row">
                    <div class="layui-col-sm12">
                        <canvas id="chart02" class="chart-box" width="700" height="349"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="handle-right">
            <div>
                <table class="layui-table" lay-size="sm">
                    <colgroup>
                        <col>
                        <col>
                        <col>
                        <col>
                    </colgroup>
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>主机</th>
                        <th>连接时长</th>
                        <th>连接数据库</th>
                    </tr>
                    </thead>
                    <tbody>
                    <#if info.users??>
                        <#list info.users as user>
                        <tr>
                            <td>${user.id}</td>
                            <td>${user.addr}</td>
                            <td>${user.age}</td>
                            <td>${user.db}</td>
                        </tr>
                        </#list>
                    </#if>

                    </tbody>
                </table>
            </div>
            <div class="layui-collapse" lay-accordion="">
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><span calss="">服务端信息</span></h2>
                <#--<div class="layui-colla-content layui-show">${info.server}</div>-->
                    <div class="layui-colla-content">${info.server}</div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><span calss="">客户端信息</span></h2>
                    <div class="layui-colla-content">${info.client}</div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><span calss="">内存的信息</span></h2>
                    <div class="layui-colla-content">${info.memory}</div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><span calss="">持久化信息</span></h2>
                    <div class="layui-colla-content">${info.persistence}</div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><span calss="">连接的信息</span></h2>
                    <div class="layui-colla-content">${info.stats}</div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title"><span calss="">处理器信息</span></h2>
                    <div class="layui-colla-content">${info.cpu}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="status">
        <div class="status-message">
            <img src="${ctx}/image/${marktip}.png"/>
            <span class="conn ${marktip}">${message}</span>
        </div>
        <div class="status-version">${version}</div>
    </div>
</div>
<script type="text/javascript" src="${ctx}/plugin/layui/layui.js"></script>
<script type="text/javascript" src="${ctx}/script/script.js"></script>
<script type="text/javascript" src="${ctx}/script/chart.js"></script>
<script type="text/javascript" src="${ctx}/script/info.js"></script>
</body>
</html>